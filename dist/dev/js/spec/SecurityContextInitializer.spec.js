System.register(['../src/SecurityContext', '../src/SecurityContextInitializer'], function(exports_1, context_1) {
    "use strict";
    var __moduleName = context_1 && context_1.id;
    var SecurityContext_1, SecurityContextInitializer_1;
    return {
        setters:[
            function (SecurityContext_1_1) {
                SecurityContext_1 = SecurityContext_1_1;
            },
            function (SecurityContextInitializer_1_1) {
                SecurityContextInitializer_1 = SecurityContextInitializer_1_1;
            }],
        execute: function() {
            describe('SecurityContextInitializer', () => {
                const encodedAccessToken = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImEzck1VZ01Gdjl0UGNsTGE2eUYzekFrZnF1RSIsIng1dCI6ImEzck1VZ01Gdjl0UGNsTGE2eUYzekFrZnF1RSJ9.eyJpc3MiOiJodHRwczovL3BqbXRzdHMvIiwiYXVkIjoiaHR0cHM6Ly9wam10c3RzL3Jlc291cmNlcyIsImV4cCI6MTQ2MTg4NjIzNSwibmJmIjoxNDYxODgyNjM1LCJjbGllbnRfaWQiOiIyMzgwIiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSIsImVtYWlsIiwicGptdF9wcm9maWxlIiwicGVybWlzc2FvXzIzODAiXSwic3ViIjoiMTY4NDMiLCJhdXRoX3RpbWUiOjE0NjExNjQ5MzIsImlkcCI6Imlkc3J2IiwicGVybWlzc2FvfDIzODA6RGFzaGJvYXJkIjoiQWNlc3NvIiwicGVybWlzc2FvfDIzODA6RGFzaGJvYXJkLkdyYWZpY29zIjoiQWNlc3NvIiwicGVybWlzc2FvfDIzODA6RGFzaGJvYXJkLkdyYWZpY29zLkRpdmVyc29zIjoiQWNlc3NvIiwicGVybWlzc2FvfDIzODA6RGFzaGJvYXJkLkdyYWZpY29zLlNvYnJlIjoiQWNlc3NvIiwicGVybWlzc2FvfDIzODA6RGFzaGJvYXJkLlJlbGF0b3Jpby5SZWxhdG9yaW9DcmlhY2FvIjoiQWNlc3NvIiwicGVybWlzc2FvfDIzODA6RGFzaGJvYXJkLlJlbGF0b3Jpb3MuUmVsYXRvcmlvQWNlc3NvcyI6WyJBY2Vzc28iLCJBbHRlcmFyIiwiRXhjbHVpciIsIk5vdm8iXSwicGVybWlzc2FvfDIzODA6SG9tZSI6IkFjZXNzbyIsInBlcm1pc3Nhb3wyMzgwOk5vdGljaWFzIjoiQWNlc3NvIiwicGVybWlzc2FvfDIzODA6UmVsYXRvcmlvcyI6IkFjZXNzbyIsImFtciI6WyJwYXNzd29yZCJdfQ.Eg-bdPAHKMIDlVMiGNJxEJ9zqth2UmU-k0Ek1BIthC6WKnfyFOQ7EQXIbQGBrLhm4CHr_siwrgThAL5Nq3GJAo0_wxfjgdgt965FHZLO0Xa-QRTvfWdwCU7_jHYjlwuyJ8IDiEpQf6y6eeUIMxRI0JZa-aIrt5MtMCrMMecTdURXF91bXBFdNDJSGLpqrf687HuzUCHrrznBr6wO-5-5Y24rnpTbEclS9KDJYuTZoBQA6-Tkcy_XBHg4c1whwwORf9Nfv1c8_V6ZjML1eiqdlK7MDjqmsZbAZkScrJzZmxpoBMkvAMDIhkmB8ZVsGkrYICqtrAR6BIuTk2aK3z8low";
                const accessToken = JSON.parse(`{"iss":"https://pjmtsts/","aud":"https://pjmtsts/resources","exp":1462403582,"nbf":1462399982,"client_id":"2380","scope":["openid","profile","pjmt_profile","email","permissao_2380"],"sub":"16843","auth_time":1462397042,"idp":"idsrv","permissao|2380:Dashboard":"Acesso","permissao|2380:Dashboard.Graficos":"Acesso","permissao|2380:Dashboard.Graficos.Diversos":"Acesso","permissao|2380:Dashboard.Graficos.Sobre":"Acesso","permissao|2380:Dashboard.Relatorio.RelatorioCriacao":"Acesso","permissao|2380:Dashboard.Relatorios.RelatorioAcessos":["Acesso","Alterar","Excluir","Novo"],"permissao|2380:Home":"Acesso","permissao|2380:Noticias":"Acesso","permissao|2380:Relatorios":"Acesso","amr":["password"]}`);
                const encodedIdentityToken = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImEzck1VZ01Gdjl0UGNsTGE2eUYzekFrZnF1RSIsIng1dCI6ImEzck1VZ01Gdjl0UGNsTGE2eUYzekFrZnF1RSJ9.eyJpc3MiOiJodHRwczovL3BqbXRzdHMvIiwiYXVkIjoiMjM4MCIsImV4cCI6MTQ2MTg4MjkzNSwibmJmIjoxNDYxODgyNjM1LCJub25jZSI6IjEyMjMwMjA2NTU5NDkyMDgiLCJpYXQiOjE0NjE4ODI2MzUsImF0X2hhc2giOiIzeV9iSi1oZEZiMjE3VHNpQUVpVnZ3IiwiY19oYXNoIjoibGhMRDFOaTNkcms0aEJKYXBQRUpaQSIsInNpZCI6IjNkMGQzNWYxNGFjYWQ3MzEyM2E2Y2FmMGU5NTY5NGIzIiwic3ViIjoiMTY4NDMiLCJhdXRoX3RpbWUiOjE0NjExNjQ5MzIsImlkcCI6Imlkc3J2IiwiYW1yIjpbInBhc3N3b3JkIl19.hS9vFGcUq6j3CBRsUDm2RG0zwyNbdRijN1L_f7EmX4d5o8Wxh9RaWxPmYUSAGt211lrnp1W0zm7HfWqOu3szJnhCWKfX_P9CYuc-3NyWXxL9iMZM07lzweunJeYrWM99KCWT9il_ptR3cvNBEZPBBHBmzQ5EPbHqMga35U3U0rHTuC1134qvDFE-2YoGyNXxP5KD-pyVlx0hPXOsfv9xYfKr9C31eEMqyyavZWpmiH8Ywz1vlJTMdX6Y9Gm7599Ojqe66mRAaDX7_rf8kecgvkSZD0uozHPGIX-Y8ORPS83AHXTOFOAXoO3hvxnJJ6iN1oVJSzWVsI59VFbvMIawCw";
                beforeEach(() => {
                    SecurityContext_1.SecurityContext.Reset();
                });
                it('InitializeWithEncodedTokens should instantiate a Principal', () => {
                    SecurityContextInitializer_1.SecurityContextInitializer.InitializeWithEncodedTokens([encodedAccessToken, encodedIdentityToken]);
                    expect(SecurityContext_1.SecurityContext.Current.Principal).toBeDefined();
                });
                it('InitializeWithEncodedTokens should have a User authenticated', () => {
                    SecurityContextInitializer_1.SecurityContextInitializer.InitializeWithEncodedTokens([encodedAccessToken, encodedIdentityToken]);
                    expect(SecurityContext_1.SecurityContext.Current.Principal.IsAuthenticated).toBeTruthy();
                });
                it('InitializeWithTokens should instantiate a Principal', () => {
                    SecurityContextInitializer_1.SecurityContextInitializer.InitializeWithTokens([accessToken]);
                    expect(SecurityContext_1.SecurityContext.Current.Principal).toBeDefined();
                });
                it('InitializeWithTokens should have a User authenticated', () => {
                    SecurityContextInitializer_1.SecurityContextInitializer.InitializeWithTokens([accessToken]);
                    expect(SecurityContext_1.SecurityContext.Current.Principal.IsAuthenticated).toBeTruthy();
                });
            });
        }
    }
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNwZWMvU2VjdXJpdHlDb250ZXh0SW5pdGlhbGl6ZXIuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O1lBSUEsUUFBUSxDQUFDLDRCQUE0QixFQUFFO2dCQUVuQyxNQUFNLGtCQUFrQixHQUFVLGc0Q0FBZzRDLENBQUM7Z0JBRW42QyxNQUFNLFdBQVcsR0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLDJyQkFBMnJCLENBQUMsQ0FBQztnQkFFaHVCLE1BQU0sb0JBQW9CLEdBQVUsMDJCQUEwMkIsQ0FBQztnQkFHajVCLFVBQVUsQ0FBQztvQkFDUCxpQ0FBZSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUMxQixDQUFDLENBQUMsQ0FBQztnQkFFSCxFQUFFLENBQUMsNERBQTRELEVBQUU7b0JBRTdELHVEQUEwQixDQUFDLDJCQUEyQixDQUFDLENBQUMsa0JBQWtCLEVBQUUsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO29CQUVuRyxNQUFNLENBQUMsaUNBQWUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBRTVELENBQUMsQ0FBQyxDQUFDO2dCQUVILEVBQUUsQ0FBQyw4REFBOEQsRUFBRTtvQkFFL0QsdURBQTBCLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxrQkFBa0IsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7b0JBRW5HLE1BQU0sQ0FBQyxpQ0FBZSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBRTNFLENBQUMsQ0FBQyxDQUFDO2dCQUVILEVBQUUsQ0FBQyxxREFBcUQsRUFBRTtvQkFFdEQsdURBQTBCLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUUvRCxNQUFNLENBQUMsaUNBQWUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBRTVELENBQUMsQ0FBQyxDQUFDO2dCQUVILEVBQUUsQ0FBQyx1REFBdUQsRUFBRTtvQkFFeEQsdURBQTBCLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUUvRCxNQUFNLENBQUMsaUNBQWUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO2dCQUUzRSxDQUFDLENBQUMsQ0FBQztZQUVQLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6InNwZWMvU2VjdXJpdHlDb250ZXh0SW5pdGlhbGl6ZXIuc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9Jy4uLy4uL3R5cGluZ3MvbWFpbi5kLnRzJyAvPlxyXG5pbXBvcnQge1NlY3VyaXR5Q29udGV4dH0gZnJvbSAnLi4vc3JjL1NlY3VyaXR5Q29udGV4dCc7XHJcbmltcG9ydCB7U2VjdXJpdHlDb250ZXh0SW5pdGlhbGl6ZXJ9IGZyb20gJy4uL3NyYy9TZWN1cml0eUNvbnRleHRJbml0aWFsaXplcic7XHJcblxyXG5kZXNjcmliZSgnU2VjdXJpdHlDb250ZXh0SW5pdGlhbGl6ZXInLCAoKSA9PiB7XHJcbiAgICBcclxuICAgIGNvbnN0IGVuY29kZWRBY2Nlc3NUb2tlbjpzdHJpbmcgPSBcImV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSlNVekkxTmlJc0ltdHBaQ0k2SW1FemNrMVZaMDFHZGpsMFVHTnNUR0UyZVVZemVrRnJabkYxUlNJc0luZzFkQ0k2SW1FemNrMVZaMDFHZGpsMFVHTnNUR0UyZVVZemVrRnJabkYxUlNKOS5leUpwYzNNaU9pSm9kSFJ3Y3pvdkwzQnFiWFJ6ZEhNdklpd2lZWFZrSWpvaWFIUjBjSE02THk5d2FtMTBjM1J6TDNKbGMyOTFjbU5sY3lJc0ltVjRjQ0k2TVRRMk1UZzROakl6TlN3aWJtSm1Jam94TkRZeE9EZ3lOak0xTENKamJHbGxiblJmYVdRaU9pSXlNemd3SWl3aWMyTnZjR1VpT2xzaWIzQmxibWxrSWl3aWNISnZabWxzWlNJc0ltVnRZV2xzSWl3aWNHcHRkRjl3Y205bWFXeGxJaXdpY0dWeWJXbHpjMkZ2WHpJek9EQWlYU3dpYzNWaUlqb2lNVFk0TkRNaUxDSmhkWFJvWDNScGJXVWlPakUwTmpFeE5qUTVNeklzSW1sa2NDSTZJbWxrYzNKMklpd2ljR1Z5YldsemMyRnZmREl6T0RBNlJHRnphR0p2WVhKa0lqb2lRV05sYzNOdklpd2ljR1Z5YldsemMyRnZmREl6T0RBNlJHRnphR0p2WVhKa0xrZHlZV1pwWTI5eklqb2lRV05sYzNOdklpd2ljR1Z5YldsemMyRnZmREl6T0RBNlJHRnphR0p2WVhKa0xrZHlZV1pwWTI5ekxrUnBkbVZ5YzI5eklqb2lRV05sYzNOdklpd2ljR1Z5YldsemMyRnZmREl6T0RBNlJHRnphR0p2WVhKa0xrZHlZV1pwWTI5ekxsTnZZbkpsSWpvaVFXTmxjM052SWl3aWNHVnliV2x6YzJGdmZESXpPREE2UkdGemFHSnZZWEprTGxKbGJHRjBiM0pwYnk1U1pXeGhkRzl5YVc5RGNtbGhZMkZ2SWpvaVFXTmxjM052SWl3aWNHVnliV2x6YzJGdmZESXpPREE2UkdGemFHSnZZWEprTGxKbGJHRjBiM0pwYjNNdVVtVnNZWFJ2Y21sdlFXTmxjM052Y3lJNld5SkJZMlZ6YzI4aUxDSkJiSFJsY21GeUlpd2lSWGhqYkhWcGNpSXNJazV2ZG04aVhTd2ljR1Z5YldsemMyRnZmREl6T0RBNlNHOXRaU0k2SWtGalpYTnpieUlzSW5CbGNtMXBjM05oYjN3eU16Z3dPazV2ZEdsamFXRnpJam9pUVdObGMzTnZJaXdpY0dWeWJXbHpjMkZ2ZkRJek9EQTZVbVZzWVhSdmNtbHZjeUk2SWtGalpYTnpieUlzSW1GdGNpSTZXeUp3WVhOemQyOXlaQ0pkZlEuRWctYmRQQUhLTUlEbFZNaUdOSnhFSjl6cXRoMlVtVS1rMEVrMUJJdGhDNldLbmZ5Rk9RN0VRWEliUUdCckxobTRDSHJfc2l3cmdUaEFMNU5xM0dKQW8wX3d4ZmpnZGd0OTY1RkhaTE8wWGEtUVJUdmZXZHdDVTdfakhZamx3dXlKOElEaUVwUWY2eTZlZVVJTXhSSTBKWmEtYUlydDVNdE1Dck1NZWNUZFVSWEY5MWJYQkZkTkRKU0dMcHFyZjY4N0h1elVDSHJyem5CcjZ3Ty01LTVZMjRybnBUYkVjbFM5S0RKWXVUWm9CUUE2LVRrY3lfWEJIZzRjMXdod3dPUmY5TmZ2MWM4X1Y2WmpNTDFlaXFkbEs3TURqcW1zWmJBWmtTY3JKelpteHBvQk1rdkFNREloa21COFpWc0drcllJQ3F0ckFSNkJJdVRrMmFLM3o4bG93XCI7XHJcbiAgICBcclxuICAgIGNvbnN0IGFjY2Vzc1Rva2VuOmFueSA9IEpTT04ucGFyc2UoYHtcImlzc1wiOlwiaHR0cHM6Ly9wam10c3RzL1wiLFwiYXVkXCI6XCJodHRwczovL3BqbXRzdHMvcmVzb3VyY2VzXCIsXCJleHBcIjoxNDYyNDAzNTgyLFwibmJmXCI6MTQ2MjM5OTk4MixcImNsaWVudF9pZFwiOlwiMjM4MFwiLFwic2NvcGVcIjpbXCJvcGVuaWRcIixcInByb2ZpbGVcIixcInBqbXRfcHJvZmlsZVwiLFwiZW1haWxcIixcInBlcm1pc3Nhb18yMzgwXCJdLFwic3ViXCI6XCIxNjg0M1wiLFwiYXV0aF90aW1lXCI6MTQ2MjM5NzA0MixcImlkcFwiOlwiaWRzcnZcIixcInBlcm1pc3Nhb3wyMzgwOkRhc2hib2FyZFwiOlwiQWNlc3NvXCIsXCJwZXJtaXNzYW98MjM4MDpEYXNoYm9hcmQuR3JhZmljb3NcIjpcIkFjZXNzb1wiLFwicGVybWlzc2FvfDIzODA6RGFzaGJvYXJkLkdyYWZpY29zLkRpdmVyc29zXCI6XCJBY2Vzc29cIixcInBlcm1pc3Nhb3wyMzgwOkRhc2hib2FyZC5HcmFmaWNvcy5Tb2JyZVwiOlwiQWNlc3NvXCIsXCJwZXJtaXNzYW98MjM4MDpEYXNoYm9hcmQuUmVsYXRvcmlvLlJlbGF0b3Jpb0NyaWFjYW9cIjpcIkFjZXNzb1wiLFwicGVybWlzc2FvfDIzODA6RGFzaGJvYXJkLlJlbGF0b3Jpb3MuUmVsYXRvcmlvQWNlc3Nvc1wiOltcIkFjZXNzb1wiLFwiQWx0ZXJhclwiLFwiRXhjbHVpclwiLFwiTm92b1wiXSxcInBlcm1pc3Nhb3wyMzgwOkhvbWVcIjpcIkFjZXNzb1wiLFwicGVybWlzc2FvfDIzODA6Tm90aWNpYXNcIjpcIkFjZXNzb1wiLFwicGVybWlzc2FvfDIzODA6UmVsYXRvcmlvc1wiOlwiQWNlc3NvXCIsXCJhbXJcIjpbXCJwYXNzd29yZFwiXX1gKTtcclxuXHJcbiAgICBjb25zdCBlbmNvZGVkSWRlbnRpdHlUb2tlbjpzdHJpbmcgPSBcImV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSlNVekkxTmlJc0ltdHBaQ0k2SW1FemNrMVZaMDFHZGpsMFVHTnNUR0UyZVVZemVrRnJabkYxUlNJc0luZzFkQ0k2SW1FemNrMVZaMDFHZGpsMFVHTnNUR0UyZVVZemVrRnJabkYxUlNKOS5leUpwYzNNaU9pSm9kSFJ3Y3pvdkwzQnFiWFJ6ZEhNdklpd2lZWFZrSWpvaU1qTTRNQ0lzSW1WNGNDSTZNVFEyTVRnNE1qa3pOU3dpYm1KbUlqb3hORFl4T0RneU5qTTFMQ0p1YjI1alpTSTZJakV5TWpNd01qQTJOVFU1TkRreU1EZ2lMQ0pwWVhRaU9qRTBOakU0T0RJMk16VXNJbUYwWDJoaGMyZ2lPaUl6ZVY5aVNpMW9aRVppTWpFM1ZITnBRVVZwVm5aM0lpd2lZMTlvWVhOb0lqb2liR2hNUkRGT2FUTmtjbXMwYUVKS1lYQlFSVXBhUVNJc0luTnBaQ0k2SWpOa01HUXpOV1l4TkdGallXUTNNekV5TTJFMlkyRm1NR1U1TlRZNU5HSXpJaXdpYzNWaUlqb2lNVFk0TkRNaUxDSmhkWFJvWDNScGJXVWlPakUwTmpFeE5qUTVNeklzSW1sa2NDSTZJbWxrYzNKMklpd2lZVzF5SWpwYkluQmhjM04zYjNKa0lsMTkuaFM5dkZHY1VxNmozQ0JSc1VEbTJSRzB6d3lOYmRSaWpOMUxfZjdFbVg0ZDVvOFd4aDlSYVd4UG1ZVVNBR3QyMTFscm5wMVcwem03SGZXcU91M3N6Sm5oQ1dLZlhfUDlDWXVjLTNOeVdYeEw5aU1aTTA3bHp3ZXVuSmVZcldNOTlLQ1dUOWlsX3B0UjNjdk5CRVpQQkJIQm16UTVFUGJIcU1nYTM1VTNVMHJIVHVDMTEzNHF2REZFLTJZb0d5Tlh4UDVLRC1weVZseDBoUFhPc2Z2OXhZZktyOUMzMWVFTXF5eWF2WldwbWlIOFl3ejF2bEpUTWRYNlk5R203NTk5T2pxZTY2bVJBYURYN19yZjhrZWNndmtTWkQwdW96SFBHSVgtWThPUlBTODNBSFhUT0ZPQVhvTzNodnhuSko2aU4xb1ZKU3pXVnNJNTlWRmJ2TUlhd0N3XCI7XHJcbiAgICBcclxuICAgIFxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICBTZWN1cml0eUNvbnRleHQuUmVzZXQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdJbml0aWFsaXplV2l0aEVuY29kZWRUb2tlbnMgc2hvdWxkIGluc3RhbnRpYXRlIGEgUHJpbmNpcGFsJywgKCkgPT4ge1xyXG4gICAgXHJcbiAgICAgICAgU2VjdXJpdHlDb250ZXh0SW5pdGlhbGl6ZXIuSW5pdGlhbGl6ZVdpdGhFbmNvZGVkVG9rZW5zKFtlbmNvZGVkQWNjZXNzVG9rZW4sIGVuY29kZWRJZGVudGl0eVRva2VuXSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwZWN0KFNlY3VyaXR5Q29udGV4dC5DdXJyZW50LlByaW5jaXBhbCkudG9CZURlZmluZWQoKTtcclxuICAgIFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCdJbml0aWFsaXplV2l0aEVuY29kZWRUb2tlbnMgc2hvdWxkIGhhdmUgYSBVc2VyIGF1dGhlbnRpY2F0ZWQnLCAoKSA9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgU2VjdXJpdHlDb250ZXh0SW5pdGlhbGl6ZXIuSW5pdGlhbGl6ZVdpdGhFbmNvZGVkVG9rZW5zKFtlbmNvZGVkQWNjZXNzVG9rZW4sIGVuY29kZWRJZGVudGl0eVRva2VuXSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwZWN0KFNlY3VyaXR5Q29udGV4dC5DdXJyZW50LlByaW5jaXBhbC5Jc0F1dGhlbnRpY2F0ZWQpLnRvQmVUcnV0aHkoKTtcclxuICAgIFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCdJbml0aWFsaXplV2l0aFRva2VucyBzaG91bGQgaW5zdGFudGlhdGUgYSBQcmluY2lwYWwnLCAoKSA9PiB7XHJcbiAgICBcclxuICAgICAgICBTZWN1cml0eUNvbnRleHRJbml0aWFsaXplci5Jbml0aWFsaXplV2l0aFRva2VucyhbYWNjZXNzVG9rZW5dKTtcclxuICAgICAgICBcclxuICAgICAgICBleHBlY3QoU2VjdXJpdHlDb250ZXh0LkN1cnJlbnQuUHJpbmNpcGFsKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ0luaXRpYWxpemVXaXRoVG9rZW5zIHNob3VsZCBoYXZlIGEgVXNlciBhdXRoZW50aWNhdGVkJywgKCkgPT4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIFNlY3VyaXR5Q29udGV4dEluaXRpYWxpemVyLkluaXRpYWxpemVXaXRoVG9rZW5zKFthY2Nlc3NUb2tlbl0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGV4cGVjdChTZWN1cml0eUNvbnRleHQuQ3VycmVudC5QcmluY2lwYWwuSXNBdXRoZW50aWNhdGVkKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBcclxuICAgIH0pO1xyXG4gICAgXHJcbn0pO1xyXG4iXX0=
